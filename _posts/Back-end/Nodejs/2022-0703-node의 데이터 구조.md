

<br>

무엇이든지 마찬가지이지만 데이터 구조와 관련된 것을 확인하기 위해서는 여타 검색을 통해 나온 블로그보다도 node.js 공식 문서를 보는 것이 제일 정확하다.

## Buffer

파일은 어디까지나 바이스 시퀀스(byte sequence)이기 때문에 이진파일과 다를 바 없을 것이고 이를 출력을 하면 Buffer의 형태로 결과가 출력 될 것이다.

이를 확인해 보기 위해서 test라는 파일에 확장자가 없이 Hello라는 문구를 적고 main.js 파일에서 이 파일을 불러와 출력을 해 보면 이해가 될 것이다.

- main.js

  - ```js
    const fs = require('fs')
    
    const result = fs.readFileSync('src/test')
    console.log(result)
    // <Buffer 48 65 6c 6c 6f>
    ```

버퍼에 들어간 내용을 보면 hexadecimal로 표현된 형태들이 나열된 것을 볼 수 있다.

또한 이 문자들은 아스키코드 값과 정확히 일치한다.



<br>

## stream

stream은 Buffer와 함께 양대 산맥을 이루는 데이터 타입으로 서버에서 대용량 데이터를 사용한다면 무조건 쓰일 수 밖에 없는 데이터 타입이다.

```js
const fs = require('fs')

const stream = fs.createReadStream('src/test')

stream.pipe(process.stdout)
```

데이터의 파이프와 같은 것으로 a에서 b로 꼽을 수 있고 a에서 c로 꼽을 수 있고 b로 꼽았던 것을 c로 꼽을 수 있고...

이처럼 자유자재로 스트림 파이프를 마음대로 조절할 수 있기 때문에 데이터의 흐름을 제어할 수 있는 역할을 하고 그렇기 때문에 RAM에 모든 데이터를 다 들고 있지 않아도 처리를 할 수 있는 구조를 갖고 있다.

