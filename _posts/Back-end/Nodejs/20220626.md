

## REST API와 HTTP 메서드

REST API는 HTTP 메서드를 사용한 방식이라고 할 수 있다.

- 메서드(method): ex) GET, POST
- URI: 행위의 목적 -> ex) /users/userId/youtube

<br>

### 메서드의 종류

- **GET** : 자료를 **요청**할 때 사용
- **POST** : 자료의 **생성**을 요청할 때 사용
- **PUT** : 자료의 **전체의 수정**을 요청할 때 사용
- **PATCH** : 자료의 **일부의 수정**을 요청할 때 사용
- **DELETE** : 자료의 **삭제**를 요청할 때 사용

<br>

### GET과 POST의 차이

- GET: only Header 정보만 필요하다. 
  - 어떠한 값을 조회할 것인지에 대한 정보만 필요하기 때문에

- POST: Header, Body 둘 다 필요하다.
  - 어디에 무엇을 저장할지에 대한 정보와 Body에 넣을 정보도 필요하다.

 

<br>

### URL, URI의 2 가지 형식

- path variable: `:` 
  - 지정한다.
  - 특정한 값을 지목해서 처리하는 방식
  - ex) userId = 1, videoId = 123 과 같은 데이터를 원할 때
- query-string: `?`
  - 일종의 필터링
  - 필터링을 활용한 처리
    - ex) 활성화 상태인 동영상을 원할 때



<br>

### 데이터의 2가지 형태

- XML: HTML 형태와 같이 태그 형식으로 된 데이터를 주고 받는다.
  - ```xml
    	<SafeAreaView>
        	<Button title='home'
                onPress={() => Alert.alert('home pressed.', 'message')} />
        </SafeAreaView>
    ```
  
- JSON: key, value 형태로 된 데이터를 주고 받는다.

  - ```json
    {
      "compilerOptions": {
        "strict": true
      },
      "include": ["src/**/*"]
    }
    
    ```


<br>

---

DELETE 기능은 가능한 사용하지 않는다.

최근 데이터는 기업의 귀중한 자산으로 사용된다. (머신러닝 등 다양한 방면에서 쓰임)

따라서 회원 탈퇴 등을 처리할 때 PATCH나 PUT 등을 통해 status 즉 상태를 변화시키는 방향으로 진행하는 것이 좋다.

---

### 도메인 폴더 구조

- Route - Controller - Provider/Service -DAO

  - Route: Request에서 보낸 라우팅 처리해준다.
  - Controller: Request를 처리하고 Response 해주는 곳이다. (Provider/Service에 넘겨주고 다시 받아온 결과값을 형식화), 형식적 Validation
  - Provider/Service: 비즈니스 로직 처리한다. 의미적 Validation
  - DAO: Data Access Object의 줄임말. Query가 작성되어 있는 곳이다.

   

![image](https://user-images.githubusercontent.com/79521972/176808720-0f3ca066-39d9-43f7-a78d-db6a935998a6.png)

<br>

- Provide: Read의 비지니스 로직 처리
- Service: Create, Update, Delete의 로직 처리

와 같은 식으로 처리할 수도 있다.

<br>

### Validation 처리

서버 API 구성을 할 때에는 Validation 처리를 잘해야 한다.

외부에서 어떤 값을 날리는지(오류가 발생할만한)와 상관없이 Validation만 잘 처리하면 서버가 다운되는 일은 없을 것이다.

보통, 

-  값, 형식, 길이 등의 **형식적 Validation**은 **Controller**에서 처리한다.
-  DB에서 검증해야 하는 **의미적 Validation**은 **Provider** 혹은 **Service**에서 처리한다.



<br>

### --save-dev

실제 프로덕션 서버에 존재할 필요가 없는 패캐지는 이와 같은 옵션을 추가하여 install한다.

















