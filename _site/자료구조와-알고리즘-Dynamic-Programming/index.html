<!DOCTYPE html> <html lang="en" class="no-js"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title>[자료구조와 알고리즘] Dynamic Programming | Jekflix</title> <meta name="description" content="Jekflix is a template for Jekyll inspired by Netflix and made by Thiago Rossener."> <meta name="keywords" content="Dynamic Programming"> <!-- Social: Twitter --> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:title" content="[자료구조와 알고리즘] Dynamic Programming | Jekflix"> <meta name="twitter:description" content="Jekflix is a template for Jekyll inspired by Netflix and made by Thiago Rossener."> <meta property="twitter:image" content="http://localhost:4000/assets/img/blog-image.png"> <meta name="twitter:site" content="@twitter_username"> <!-- Social: Facebook / Open Graph --> <meta property="og:url" content="http://localhost:4000/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0%EC%99%80-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98-Dynamic-Programming/"> <meta property="og:title" content="[자료구조와 알고리즘] Dynamic Programming | Jekflix"> <meta property="og:image" content="http://localhost:4000/assets/img/blog-image.png"> <meta property="og:description" content="Jekflix is a template for Jekyll inspired by Netflix and made by Thiago Rossener."> <meta property="og:site_name" content="Jekflix | A blog theme for Jekyll"> <!-- Favicon --> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" /> <!-- Apple Touch Icons --> <link rel="apple-touch-icon" href="/assets/img/icons/apple-touch-icon.png" /> <link rel="apple-touch-icon" sizes="57x57" href="/assets/img/icons/apple-touch-icon-57x57.png" /> <link rel="apple-touch-icon" sizes="72x72" href="/assets/img/icons/apple-touch-icon-72x72.png" /> <link rel="apple-touch-icon" sizes="114x114" href="/assets/img/icons/apple-touch-icon-114x114.png" /> <link rel="apple-touch-icon" sizes="144x144" href="/assets/img/icons/apple-touch-icon-144x144.png" /> <link rel="apple-touch-icon" sizes="60x60" href="/assets/img/icons/apple-touch-icon-60x60.png" /> <link rel="apple-touch-icon" sizes="120x120" href="/assets/img/icons/apple-touch-icon-120x120.png" /> <link rel="apple-touch-icon" sizes="76x76" href="/assets/img/icons/apple-touch-icon-76x76.png" /> <link rel="apple-touch-icon" sizes="152x152" href="/assets/img/icons/apple-touch-icon-152x152.png" /> <!-- Windows 8 Tile Icons --> <meta name="application-name" content="Jekflix"> <meta name="msapplication-TileColor" content="#141414"> <meta name="msapplication-square70x70logo" content="smalltile.png" /> <meta name="msapplication-square150x150logo" content="mediumtile.png" /> <meta name="msapplication-wide310x150logo" content="widetile.png" /> <meta name="msapplication-square310x310logo" content="largetile.png" /> <!-- Android Lolipop Theme Color --> <meta name="theme-color" content="#141414"> <!-- Fonts --> <link href="https://fonts.googleapis.com/css?family=Titillium+Web:300,400,700" rel="stylesheet"> <link rel="stylesheet" href="/assets/css/styles.css"> <link rel="canonical" href="http://localhost:4000/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0%EC%99%80-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98-Dynamic-Programming/"> <link rel="alternate" type="application/rss+xml" title="Jekflix | A blog theme for Jekyll" href="http://localhost:4000/feed.xml" /> <!-- Include extra styles --> <!-- JavaScript enabled/disabled --> <script> document.querySelector('html').classList.remove('no-js'); </script> </head> <body class="has-push-menu"> <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" display="none" version="1.1"><defs><symbol id="icon-menu" viewBox="0 0 1024 1024"><path class="path1" d="M128 213.333h768q17.667 0 30.167 12.5t12.5 30.167-12.5 30.167-30.167 12.5h-768q-17.667 0-30.167-12.5t-12.5-30.167 12.5-30.167 30.167-12.5zM128 725.333h768q17.667 0 30.167 12.5t12.5 30.167-12.5 30.167-30.167 12.5h-768q-17.667 0-30.167-12.5t-12.5-30.167 12.5-30.167 30.167-12.5zM128 469.333h768q17.667 0 30.167 12.5t12.5 30.167-12.5 30.167-30.167 12.5h-768q-17.667 0-30.167-12.5t-12.5-30.167 12.5-30.167 30.167-12.5z"/></symbol><symbol id="icon-search" viewBox="0 0 951 1024"><path class="path1" d="M658.286 475.429q0-105.714-75.143-180.857t-180.857-75.143-180.857 75.143-75.143 180.857 75.143 180.857 180.857 75.143 180.857-75.143 75.143-180.857zM950.857 950.857q0 29.714-21.714 51.429t-51.429 21.714q-30.857 0-51.429-21.714l-196-195.429q-102.286 70.857-228 70.857-81.714 0-156.286-31.714t-128.571-85.714-85.714-128.571-31.714-156.286 31.714-156.286 85.714-128.571 128.571-85.714 156.286-31.714 156.286 31.714 128.571 85.714 85.714 128.571 31.714 156.286q0 125.714-70.857 228l196 196q21.143 21.143 21.143 51.429z"/></symbol><symbol id="icon-close" viewBox="0 0 1000 1000"><path d="M969.8,870.3c27,27.7,27,71.8,0,99.1C955.7,983,937.9,990,920,990c-17.9,0-35.7-7-49.7-20.7L500,599L129.6,969.4C115.6,983,97.8,990,79.9,990s-35.7-7-49.7-20.7c-27-27.3-27-71.4,0-99.1L400.9,500L30.3,129.3c-27-27.3-27-71.4,0-99.1c27.3-27,71.8-27,99.4,0L500,400.9L870.4,30.2c27.7-27,71.8-27,99.4,0c27,27.7,27,71.8,0,99.1L599.1,500L969.8,870.3z"/></symbol><symbol id="icon-twitter" viewBox="0 0 951 1024"><path class="path1" d="M925.714 233.143q-38.286 56-92.571 95.429 0.571 8 0.571 24 0 74.286-21.714 148.286t-66 142-105.429 120.286-147.429 83.429-184.571 31.143q-154.857 0-283.429-82.857 20 2.286 44.571 2.286 128.571 0 229.143-78.857-60-1.143-107.429-36.857t-65.143-91.143q18.857 2.857 34.857 2.857 24.571 0 48.571-6.286-64-13.143-106-63.714t-42-117.429v-2.286q38.857 21.714 83.429 23.429-37.714-25.143-60-65.714t-22.286-88q0-50.286 25.143-93.143 69.143 85.143 168.286 136.286t212.286 56.857q-4.571-21.714-4.571-42.286 0-76.571 54-130.571t130.571-54q80 0 134.857 58.286 62.286-12 117.143-44.571-21.143 65.714-81.143 101.714 53.143-5.714 106.286-28.571z"/></symbol><symbol id="icon-facebook" viewBox="0 0 585 1024"><path class="path1" d="M548 6.857v150.857h-89.714q-49.143 0-66.286 20.571t-17.143 61.714v108h167.429l-22.286 169.143h-145.143v433.714h-174.857v-433.714h-145.714v-169.143h145.714v-124.571q0-106.286 59.429-164.857t158.286-58.571q84 0 130.286 6.857z"/></symbol><symbol id="icon-clock" viewBox="0 0 1000 1000"><path d="M500,10C229.8,10,10,229.8,10,500c0,270.2,219.8,490,490,490c270.2,0,490-219.8,490-490C990,229.8,770.2,10,500,10z M500,910.2c-226.2,0-410.2-184-410.2-410.2c0-226.2,184-410.2,410.2-410.2c226.2,0,410.2,184,410.2,410.2C910.2,726.1,726.2,910.2,500,910.2z M753.1,374c8.2,11.9,5.2,28.1-6.6,36.3L509.9,573.7c-4.4,3.1-9.6,4.6-14.8,4.6c-4.1,0-8.3-1-12.1-3c-8.6-4.5-14-13.4-14-23.1V202.5c0-14.4,11.7-26.1,26.1-26.1c14.4,0,26.1,11.7,26.1,26.1v300l195.6-135.1C728.7,359.2,744.9,362.1,753.1,374z"/></symbol><symbol id="icon-calendar" viewBox="0 0 1000 1000"><path d="M920,500v420H80V500H920 M990,430H10v490c0,38.7,31.3,70,70,70h840c38.7,0,70-31.3,70-70V430L990,430z"/><path d="M850,80v105c0,57.9-47.2,105-105,105c-58,0-105-47.1-105-105V80H360v105c0,57.9-47.2,105-105,105c-58,0-105-47.1-105-105V80C72.8,80,10,142.7,10,220v140h980V220C990,142.7,927.2,80,850,80z"/><path d="M255,10c-19.3,0-35,15.8-35,35v140c0,19.2,15.7,35,35,35c19.3,0,35-15.8,35-35V45C290,25.8,274.3,10,255,10z"/><path d="M745,10c-19.3,0-35,15.8-35,35v140c0,19.2,15.7,35,35,35c19.3,0,35-15.8,35-35V45C780,25.8,764.3,10,745,10z"/></symbol><symbol id="icon-github" viewBox="0 0 12 14"><path d="M6 1q1.633 0 3.012 0.805t2.184 2.184 0.805 3.012q0 1.961-1.145 3.527t-2.957 2.168q-0.211 0.039-0.312-0.055t-0.102-0.234q0-0.023 0.004-0.598t0.004-1.051q0-0.758-0.406-1.109 0.445-0.047 0.801-0.141t0.734-0.305 0.633-0.52 0.414-0.82 0.16-1.176q0-0.93-0.617-1.609 0.289-0.711-0.062-1.594-0.219-0.070-0.633 0.086t-0.719 0.344l-0.297 0.187q-0.727-0.203-1.5-0.203t-1.5 0.203q-0.125-0.086-0.332-0.211t-0.652-0.301-0.664-0.105q-0.352 0.883-0.062 1.594-0.617 0.68-0.617 1.609 0 0.664 0.16 1.172t0.41 0.82 0.629 0.523 0.734 0.305 0.801 0.141q-0.305 0.281-0.383 0.805-0.164 0.078-0.352 0.117t-0.445 0.039-0.512-0.168-0.434-0.488q-0.148-0.25-0.379-0.406t-0.387-0.187l-0.156-0.023q-0.164 0-0.227 0.035t-0.039 0.090 0.070 0.109 0.102 0.094l0.055 0.039q0.172 0.078 0.34 0.297t0.246 0.398l0.078 0.18q0.102 0.297 0.344 0.48t0.523 0.234 0.543 0.055 0.434-0.027l0.18-0.031q0 0.297 0.004 0.691t0.004 0.426q0 0.141-0.102 0.234t-0.312 0.055q-1.812-0.602-2.957-2.168t-1.145-3.527q0-1.633 0.805-3.012t2.184-2.184 3.012-0.805zM2.273 9.617q0.023-0.055-0.055-0.094-0.078-0.023-0.102 0.016-0.023 0.055 0.055 0.094 0.070 0.047 0.102-0.016zM2.516 9.883q0.055-0.039-0.016-0.125-0.078-0.070-0.125-0.023-0.055 0.039 0.016 0.125 0.078 0.078 0.125 0.023zM2.75 10.234q0.070-0.055 0-0.148-0.062-0.102-0.133-0.047-0.070 0.039 0 0.141t0.133 0.055zM3.078 10.562q0.062-0.062-0.031-0.148-0.094-0.094-0.156-0.023-0.070 0.062 0.031 0.148 0.094 0.094 0.156 0.023zM3.523 10.758q0.023-0.086-0.102-0.125-0.117-0.031-0.148 0.055t0.102 0.117q0.117 0.047 0.148-0.047zM4.016 10.797q0-0.102-0.133-0.086-0.125 0-0.125 0.086 0 0.102 0.133 0.086 0.125 0 0.125-0.086zM4.469 10.719q-0.016-0.086-0.141-0.070-0.125 0.023-0.109 0.117t0.141 0.062 0.109-0.109z"></path></symbol><symbol id="icon-medium" viewBox="0 0 1000 1000"><path d="M336.5,240.2v641.5c0,9.1-2.3,16.9-6.8,23.2s-11.2,9.6-20,9.6c-6.2,0-12.2-1.5-18-4.4L37.3,782.7c-7.7-3.6-14.1-9.8-19.4-18.3S10,747.4,10,739V115.5c0-7.3,1.8-13.5,5.5-18.6c3.6-5.1,8.9-7.7,15.9-7.7c5.1,0,13.1,2.7,24.1,8.2l279.5,140C335.9,238.6,336.5,239.5,336.5,240.2L336.5,240.2z M371.5,295.5l292,473.6l-292-145.5V295.5z M990,305.3v576.4c0,9.1-2.6,16.5-7.7,22.1c-5.1,5.7-12,8.5-20.8,8.5s-17.3-2.4-25.7-7.1L694.7,784.9L990,305.3z M988.4,239.7c0,1.1-46.8,77.6-140.3,229.4C754.6,621,699.8,709.8,683.8,735.7L470.5,389l177.2-288.2c6.2-10.2,15.7-15.3,28.4-15.3c5.1,0,9.8,1.1,14.2,3.3l295.9,147.7C987.6,237.1,988.4,238.2,988.4,239.7L988.4,239.7z"/></symbol><symbol id="icon-instagram" viewBox="0 0 489.84 489.84"><path d="M249.62,50.46c65.4,0,73.14.25,99,1.43C372.47,53,385.44,57,394.07,60.32a75.88,75.88,0,0,1,28.16,18.32,75.88,75.88,0,0,1,18.32,28.16c3.35,8.63,7.34,21.6,8.43,45.48,1.18,25.83,1.43,33.57,1.43,99s-0.25,73.14-1.43,99c-1.09,23.88-5.08,36.85-8.43,45.48a81.11,81.11,0,0,1-46.48,46.48c-8.63,3.35-21.6,7.34-45.48,8.43-25.82,1.18-33.57,1.43-99,1.43s-73.15-.25-99-1.43c-23.88-1.09-36.85-5.08-45.48-8.43A75.88,75.88,0,0,1,77,423.86,75.88,75.88,0,0,1,58.69,395.7c-3.35-8.63-7.34-21.6-8.43-45.48-1.18-25.83-1.43-33.57-1.43-99s0.25-73.14,1.43-99c1.09-23.88,5.08-36.85,8.43-45.48A75.88,75.88,0,0,1,77,78.64a75.88,75.88,0,0,1,28.16-18.32c8.63-3.35,21.6-7.34,45.48-8.43,25.83-1.18,33.57-1.43,99-1.43m0-44.13c-66.52,0-74.86.28-101,1.47s-43.87,5.33-59.45,11.38A120.06,120.06,0,0,0,45.81,47.44,120.06,120.06,0,0,0,17.56,90.82C11.5,106.4,7.36,124.2,6.17,150.27s-1.47,34.46-1.47,101,0.28,74.86,1.47,101,5.33,43.87,11.38,59.45a120.06,120.06,0,0,0,28.25,43.38,120.06,120.06,0,0,0,43.38,28.25c15.58,6.05,33.38,10.19,59.45,11.38s34.46,1.47,101,1.47,74.86-.28,101-1.47,43.87-5.33,59.45-11.38a125.24,125.24,0,0,0,71.63-71.63c6.05-15.58,10.19-33.38,11.38-59.45s1.47-34.46,1.47-101-0.28-74.86-1.47-101-5.33-43.87-11.38-59.45a120.06,120.06,0,0,0-28.25-43.38,120.06,120.06,0,0,0-43.38-28.25C394.47,13.13,376.67,9,350.6,7.8s-34.46-1.47-101-1.47h0Z" transform="translate(-4.7 -6.33)" /><path d="M249.62,125.48A125.77,125.77,0,1,0,375.39,251.25,125.77,125.77,0,0,0,249.62,125.48Zm0,207.41a81.64,81.64,0,1,1,81.64-81.64A81.64,81.64,0,0,1,249.62,332.89Z" transform="translate(-4.7 -6.33)"/><circle cx="375.66" cy="114.18" r="29.39" /></symbol><symbol id="icon-linkedin" viewBox="0 0 12 14"><path d="M2.727 4.883v7.742h-2.578v-7.742h2.578zM2.891 2.492q0.008 0.57-0.395 0.953t-1.059 0.383h-0.016q-0.641 0-1.031-0.383t-0.391-0.953q0-0.578 0.402-0.957t1.051-0.379 1.039 0.379 0.398 0.957zM12 8.187v4.437h-2.57v-4.141q0-0.82-0.316-1.285t-0.988-0.465q-0.492 0-0.824 0.27t-0.496 0.668q-0.086 0.234-0.086 0.633v4.32h-2.57q0.016-3.117 0.016-5.055t-0.008-2.313l-0.008-0.375h2.57v1.125h-0.016q0.156-0.25 0.32-0.438t0.441-0.406 0.68-0.34 0.895-0.121q1.336 0 2.148 0.887t0.813 2.598z"></path></symbol><symbol id="icon-heart" viewBox="0 0 34 30"><path d="M17,29.7 L16.4,29.2 C3.5,18.7 0,15 0,9 C0,4 4,0 9,0 C13.1,0 15.4,2.3 17,4.1 C18.6,2.3 20.9,0 25,0 C30,0 34,4 34,9 C34,15 30.5,18.7 17.6,29.2 L17,29.7 Z M9,2 C5.1,2 2,5.1 2,9 C2,14.1 5.2,17.5 17,27.1 C28.8,17.5 32,14.1 32,9 C32,5.1 28.9,2 25,2 C21.5,2 19.6,4.1 18.1,5.8 L17,7.1 L15.9,5.8 C14.4,4.1 12.5,2 9,2 Z" id="Shape"></path></symbol><symbol id="icon-arrow-right" viewBox="0 0 25.452 25.452"><path d="M4.471,24.929v-2.004l12.409-9.788c0.122-0.101,0.195-0.251,0.195-0.411c0-0.156-0.073-0.31-0.195-0.409L4.471,2.526V0.522c0-0.2,0.115-0.384,0.293-0.469c0.18-0.087,0.396-0.066,0.552,0.061l15.47,12.202c0.123,0.1,0.195,0.253,0.195,0.409c0,0.16-0.072,0.311-0.195,0.411L5.316,25.34c-0.155,0.125-0.372,0.147-0.552,0.061C4.586,25.315,4.471,25.13,4.471,24.929z"/></symbol><symbol id="icon-star" viewBox="0 0 48 48"><path fill="currentColor" d="M44,24c0,11.045-8.955,20-20,20S4,35.045,4,24S12.955,4,24,4S44,12.955,44,24z"/><path fill="#ffffff" d="M24,11l3.898,7.898l8.703,1.301l-6.301,6.102l1.5,8.699L24,30.898L16.199,35l1.5-8.699l-6.301-6.102 l8.703-1.301L24,11z"/></symbol><symbol id="icon-read" viewBox="0 0 32 32"><path fill="currentColor" d="M29,4H3C1.343,4,0,5.343,0,7v18c0,1.657,1.343,3,3,3h10c0,0.552,0.448,1,1,1h4c0.552,0,1-0.448,1-1h10 c1.657,0,3-1.343,3-3V7C32,5.343,30.657,4,29,4z M29,5v20H18.708c-0.618,0-1.236,0.146-1.789,0.422l-0.419,0.21V5H29z M15.5,5 v20.632l-0.419-0.21C14.528,25.146,13.91,25,13.292,25H3V5H15.5z M31,25c0,1.103-0.897,2-2,2H18v1h-4v-1H3c-1.103,0-2-0.897-2-2V7 c0-0.737,0.405-1.375,1-1.722V25c0,0.552,0.448,1,1,1h10.292c0.466,0,0.925,0.108,1.342,0.317l0.919,0.46 c0.141,0.07,0.294,0.106,0.447,0.106c0.153,0,0.306-0.035,0.447-0.106l0.919-0.46C17.783,26.108,18.242,26,18.708,26H29 c0.552,0,1-0.448,1-1V5.278C30.595,5.625,31,6.263,31,7V25z M6,12.5C6,12.224,6.224,12,6.5,12h5c0.276,0,0.5,0.224,0.5,0.5 S11.776,13,11.5,13h-5C6.224,13,6,12.776,6,12.5z M6,14.5C6,14.224,6.224,14,6.5,14h5c0.276,0,0.5,0.224,0.5,0.5S11.776,15,11.5,15 h-5C6.224,15,6,14.776,6,14.5z M6,16.5C6,16.224,6.224,16,6.5,16h5c0.276,0,0.5,0.224,0.5,0.5S11.776,17,11.5,17h-5 C6.224,17,6,16.776,6,16.5z M20,12.5c0-0.276,0.224-0.5,0.5-0.5h5c0.276,0,0.5,0.224,0.5,0.5S25.776,13,25.5,13h-5 C20.224,13,20,12.776,20,12.5z M20,14.5c0-0.276,0.224-0.5,0.5-0.5h5c0.276,0,0.5,0.224,0.5,0.5S25.776,15,25.5,15h-5 C20.224,15,20,14.776,20,14.5z M20,16.5c0-0.276,0.224-0.5,0.5-0.5h5c0.276,0,0.5,0.224,0.5,0.5S25.776,17,25.5,17h-5 C20.224,17,20,16.776,20,16.5z"></path></symbol></defs></svg> <header class="bar-header"> <a id="menu" role="button"> <svg id="open" class="icon-menu"><use xlink:href="#icon-menu"></use></svg> </a> <h1 class="logo"> <a href="/"> Jekflix <span class="version">v3.1.2</span> </a> </h1> <a id="search" class="dosearch" role="button"> <svg class="icon-search"><use xlink:href="#icon-search"></use></svg> </a> <a href="https://github.com/thiagorossener/jekflix-template" class="get-theme" role="button"> Get this theme! </a> </header> <div id="mask" class="overlay"></div> <aside class="sidebar" id="sidebar"> <nav id="navigation"> <h2>Menu</h2> <ul> <li> <a href="http://localhost:4000/">Home</a> </li> <li> <a href="http://localhost:4000/about">About</a> </li> <li> <a href="http://localhost:4000/contact">Contact</a> </li> <li> <a href="http://localhost:4000/feed.xml">Feed</a> </li> </ul> </nav> </aside> <div class="search-wrapper"> <div class="search-form"> <input type="text" class="search-field" placeholder="Search"> <svg class="icon-remove-sign"><use xlink:href="#icon-close"></use></svg> <ul class="search-results search-list"></ul> </div> </div> <section class="content"> <div id="main" role="main"> <article class="page h-entry" itemscope itemtype="https://schema.org/CreativeWork"> <meta itemprop="headline" content="[자료구조와 알고리즘] Dynamic Programming"> <meta itemprop="description" content=""> <meta itemprop="datePublished" content="2022-05-16T00:00:00+09:00"> <div class="page__inner-wrap"> <header> <h1 id="page-title" class="page__title p-name" itemprop="headline"> <a href="http://localhost:4000/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0%EC%99%80-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98-Dynamic-Programming/" class="u-url" itemprop="url">[자료구조와 알고리즘] Dynamic Programming </a> </h1> </header> <section class="page__content e-content" itemprop="text"> <p><br /></p> <h1 id="11-dynamic-programming">11. Dynamic Programming</h1> <p>greedy algorithm과 dynamic programming은 굉장히 많이 쓰이는 알고리즘이다.</p> <hr /> <p>11-2</p> <h2 id="fibonacci-series">Fibonacci series</h2> <p>Let’s consider and example to understand how dynamic programming works. We use the Fibonacci series to illustrate</p> <p>The sequence of numbers <img src="https://user-images.githubusercontent.com/79521972/168503404-9961b12a-10f9-48ce-a26d-331fbdfb3d14.png" alt="image" /></p> <p>that are defined by the formula</p> <p><img src="https://user-images.githubusercontent.com/79521972/168503427-c3af3aa6-15bf-4c8d-9ba3-88f5c36158f2.png" alt="image" /></p> <p>are known as the fibonacci numbers</p> <ul> <li>0 번째와 1 번째 값은 0과 1로 항상 정해져 있는 값이다.</li> </ul> <hr /> <p>11-3</p> <h2 id="recursive-implementation">Recursive implementation</h2> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">time</span> <span class="c1"># 1
</span><span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span>


<span class="k">def</span> <span class="nf">fibonacci</span><span class="p">(</span><span class="n">n</span><span class="p">):</span> <span class="c1"># 5 
</span>    <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">n</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">fibonacci</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>
    
    
<span class="k">print</span><span class="p">(</span><span class="n">fibonacci</span><span class="p">(</span><span class="mi">36</span><span class="p">))</span> <span class="c1"># 12
</span><span class="k">print</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span><span class="p">)</span>

</code></pre></div></div> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>14930352
8.691221952438354
</code></pre></div></div> <hr /> <p>11-4</p> <p><img src="https://user-images.githubusercontent.com/79521972/168503542-8cb82ca0-76b5-4267-a9a9-8973195a8b30.png" alt="image" /></p> <p>똑같은 계산 과정이 반복이 돼서(중복적으로) 일어나게 된다.</p> <p>위 그림은 7에 대한 fibonacci 결과를 tree로 나타낸 것인데 36에 대한 fibonacci 결과를 tree로 그린다면 굉장히 크고 중복이 수도 없이 많은 구조를 확인할 수 있을 것이고 이는 확실히 좋지 않은 성능을 야기한다는 것을 알 수 있을 것이다.</p> <hr /> <p>11-5</p> <h2 id="dynamic-programming">Dynamic Programming</h2> <p>Dynamic programming, like the divide-and-conquer method, <mark>solves problems by combining the solutions to subproblems.</mark> (“Programming” in this context refers to a tabular method, not to writing compter code.)</p> <ul> <li>tabular method: 테이블에 기록하는 방식</li> </ul> <p><strong>Divide-and-conquer algorithms</strong> <code class="language-plaintext highlighter-rouge">partition</code> the problem into disjoint subproblems, <code class="language-plaintext highlighter-rouge">solve</code> the subproblems recursively, and then <code class="language-plaintext highlighter-rouge">combine</code> their solutions to solve the original problem. In contrast, <strong>dynamic programming</strong> applies <span style="color:red">when the subproblems overlap</span></p> <ul> <li>that is, when subproblems share subsubproblems.</li> </ul> <p>In this context, a divide-and-conquer algorithm does more work than necessary, repeatedly solving the common subsubproblems. <mark>A dynamic-programming algorithm solves each subsubproblem just once and then saves its answer in a table</mark>, thereby avoiding the work of recomputing the answer every time it solves each subsubproblem.</p> <ul> <li>작은 size의 문제를 딱 한 번만 풀고 그 푼 결과를 table에 저장해 두는 것이다. <ul> <li>나중에 그 문제가 또 중복되어 나왔을 때 사용하기 위해서</li> </ul> </li> </ul> <p><br /></p> <p>하노이 문제의 경우 divide-and-conquer 로 풀었었는데 그 문제에서 나눠졌던 subproblem 들에 대해서 중복된 문제가 하나도 없었다.</p> <p>즉, 주어진 문제를 subproblem으로 나누었을 때 중복이 없다면 divide-and-conquer라면 중복이 굉장히 많이 나온다면 dynamic programming 이다.</p> <hr /> <p>11-6</p> <p>Dynamic programming thus <strong>uses additional memory to save computation time</strong>;</p> <ul> <li>it serves an example of a <strong>time-memory trade-off</strong>.</li> </ul> <p>The savings may be dramatic: an exponential-time solution may be transformed into a polynomial-time solution.</p> <p>There are usually two equivalent ways to implement a dynamic-programming approach.</p> <p><mark>The first approach is top-down with memoization.</mark> In this approach, we write the procedure recursively in a natural manner, but modified to save the result to each subproblem (usually in an array or hash table). The procedure now first checks to see whether it has previously solved this subproblem.</p> <p>If so, it returns the saved value, saving further computation at this level; if not, the procedure computes the value in the usual manner. We say that the recursive procedure has been memoized;</p> <ul> <li>it “remembers” what results it has computed previously.</li> </ul> <p><br /> 한 size의 문제를 조금씩 줄여나간다.</p> <ul> <li>f(n) - &gt; f(n-1) -&gt; f(n-2) -&gt; … <ul> <li>recursion</li> </ul> </li> </ul> <hr /> <p>11-7</p> <h2 id="top-down-with-memoization">top-down with memoization</h2> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">def</span> <span class="nf">fibonacci_td</span><span class="p">(</span><span class="n">n</span><span class="p">):</span> <span class="c1"># 5
</span>    <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">n</span>
    
    <span class="k">if</span> <span class="n">_memo</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span> <span class="c1"># 9 ; 존재하지 않으면 memo!
</span>        <span class="n">_memo</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">=</span> <span class="n">fibonacci_td</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">fibonacci_td</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span>
        
    <span class="k">return</span> <span class="n">_memo</span><span class="p">[</span><span class="n">n</span><span class="p">]</span>


<span class="n">_memo</span> <span class="o">=</span> <span class="p">[</span><span class="bp">None</span><span class="p">]</span> <span class="o">*</span> <span class="mi">50</span> <span class="c1"># 15
</span><span class="k">print</span><span class="p">(</span><span class="n">fibonacci_td</span><span class="p">(</span><span class="mi">36</span><span class="p">))</span>
</code></pre></div></div> <p>The numbers grow exponentially, so the array is small - for example, F<sub>46</sub> = 1836311903 is the largest Fibonacci number that can be represented as a 32-bit integer</p> <ul> <li>32-bit integer로 저장할 수 있는 최대 fibonacci 수는 46이다.</li> <li>그 이상은 long long 데이터 타입을 사용해야 한다.(파이썬은 상관 없음)</li> </ul> <p>list에 저장되어 있는지를 확인하여</p> <ul> <li>만약 저장되어 있지 않다면: 더 작은 size의 문제를 subproblem을 나눠서 memo에 저장하고</li> <li>만약 저장되어 있다면 해당 인덱스의 memo 되어있는 값을 반환 <ul> <li>이러면 재귀를 타지 않아도 그냥 바로 리턴이 가능하다.</li> </ul> </li> <li>실행 결과</li> </ul> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>14930352
0.0
</code></pre></div></div> <hr /> <p>11-8</p> <p><mark>The second approach is the bottom-up method.</mark> This approach typically depends on some natural notion of the “size” of a subproblem, such that solving any paricular subproblem depends only on solving “smaller” subproblems. We sort the subproblems by size and solve them in size order, smallest first.</p> <p>When solving a particular subproblem, we have already solved all of the smaller subproblems its solution depends upon, and we have saved their solutions.</p> <ul> <li>제일 작은 size인 f(1)부터 시작하여 f(2), f(3), … 이런 식으로 차근차근 올라가면서 푸는 방법이다.</li> </ul> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">def</span> <span class="nf">fibonacci_bu</span><span class="p">(</span><span class="n">n</span><span class="p">):</span> <span class="c1"># 5
</span>    <span class="n">memo</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>  <span class="c1"># base case
</span>    
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">memo</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">memo</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">memo</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">2</span><span class="p">])</span>
        
    <span class="k">return</span> <span class="n">memo</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="c1"># 11
</span>

<span class="k">print</span><span class="p">(</span><span class="n">fibonacci_bu</span><span class="p">(</span><span class="mi">36</span><span class="p">))</span> <span class="c1"># 14
</span></code></pre></div></div> <p>리스트의 마지막에 담긴 값이 최종 결과임</p> <hr /> <p>11-9</p> <h2 id="top-down-vs-bottom-up">top-down vs. bottom-up</h2> <p>뭐가 더 좋은 방법일까? -&gt; 결론부터 얘기 하자면 문제에 따라 다르다.(case by case)</p> <p>그러나 일반적으로 특징을 비교해 보자면 아래 글과 같다.</p> <p>Indeed, we can use the <strong>bottom-up</strong> approach <strong>any time that we use the top-down approach</strong>, although we need to take care to ensure that we compute the function values in an appropriate order, so that each value that we need has been computed when we need it.</p> <p>In top-down dynamic programming, we save known values; in bottom-up dynamic programming, we precompute them. <strong>We generally prefer top-down to bottom-up dynamic programming, because</strong></p> <p>bottom up 보다 top down을 선호한다.</p> <ul> <li>It is a mechanical transformation of a natural problem solution. <ul> <li>좀 더 자연스러운 문제 해결 가능</li> </ul> </li> <li>The order of computing the subproblems takes care of itself. <ul> <li>계산 순서를 스스로 알아서 해결</li> </ul> </li> <li>We may not need to compute answer to all the subproblems. <ul> <li>모든 subproblem에 대한 답을 계산할 필요가 없다.</li> </ul> </li> </ul> <p>주어진 size의 문제를 더 작은 size의 문제로 나누는 것 -&gt; recurrence equation</p> <hr /> <p>11-10</p> <p><img src="https://user-images.githubusercontent.com/79521972/168504697-5cddf421-4bf6-432f-ba2c-79e343ff0c27.png" alt="image" /></p> <p><a href="https://www.acmicpc.net/problem/2748">https://www.acmicpc.net/problem/2748</a></p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">fibonacci_td</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">n</span>

    <span class="k">if</span> <span class="n">_memo</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">_memo</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">=</span> <span class="n">fibonacci_td</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">fibonacci_td</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">_memo</span><span class="p">[</span><span class="n">n</span><span class="p">]</span>


<span class="n">_n</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">())</span>
<span class="n">_memo</span> <span class="o">=</span> <span class="p">[</span><span class="bp">None</span><span class="p">]</span> <span class="o">*</span> <span class="mi">91</span>
<span class="k">print</span><span class="p">(</span><span class="n">fibonacci_td</span><span class="p">(</span><span class="n">_n</span><span class="p">))</span>

</code></pre></div></div> <hr /> <p>11-11</p> <h2 id="151-rod-cutting">15.1 Rod cutting</h2> <p>Serling Enterprises(철강 회사) buys long steel rods and cuts them into shorter rods, which it then sells. Each cut is free. The management of Serling Enterprises want to know the best way to cut up the rods.</p> <p>The rod-cutting problem is the following. Given a rod of length n inches and a table of prices pi for i = 1, 2, …., n, determine the <mark>maximum revenue r<sub>n</sub></mark> obtainable by cutting up the rod and selling hte pieces.</p> <p><img src="https://user-images.githubusercontent.com/79521972/168504861-a767d9d3-a0f1-4695-9403-6afa5829d3a4.png" alt="image" /></p> <p>철봉의 길이에 따라 시장 가격이 정해져 있다. 그렇다면 철강회사에서 철봉을 어떻게 잘라야 돈을 많이 벌까?</p> <hr /> <p>11-12</p> <p><img src="https://user-images.githubusercontent.com/79521972/168504887-6619a606-b0f4-4659-b32d-fa1e51b0b112.png" alt="image" /></p> <p>위 그림과 같이 어떻게 나눠서 파느냐에 따라 받을 수 있는 가격이 다 다르다.</p> <p>그렇다면 n인치의 철봉이 주어졌을 때 어떻게 나눠서 팔아야 할지를 알아보자.</p> <p>이러한 문제 구조를 Optimization Problem이라고 한다.</p> <ul> <li>그리고 optimization 문제는 대부분 DP로 해결한다.</li> </ul> <hr /> <p>11-13</p> <p>More generally, we can frame the values rn for n &gt;= 1 in terms of optimal revenues from shorter rods:</p> <p><img src="https://user-images.githubusercontent.com/79521972/168504950-864d8a40-dbe7-4f7f-8184-b61bb55994e8.png" alt="image" /></p> <ul> <li>r<sub>n</sub>: n인치에서 얻을 수 있는 최대 수익</li> <li>p<sub>n</sub>: 시장 가격</li> <li>총 n가지 경우에 대해 조사를 해서 최대값을 구한다.</li> <li>r<sub>1</sub>+r<sub>n-1</sub> 은 사실상 p<sub>1</sub>+r<sub>n-1</sub> 과 같다. <ul> <li>그래서 앞에 더해지는 rn을 모두 pn으로 대치하여 하는 것이 더 편하다.</li> </ul> </li> </ul> <p>In a related, but slightly simpler, way to arrange a recursive structure for the rod-cutting problem, we view a decomposition as consisting of a first piece of length i cut off the left-hand end, and then a right-hand remainder of length n - i. Only the remainder, and not the first piece, may be further divided. We thus obtain the following simpler version of equation (15.1):</p> <p><img src="https://user-images.githubusercontent.com/79521972/168505091-16374575-d984-43aa-ba39-7ec3cfedd609.png" alt="image" /></p> <p>p[i] + cut_rod(length - i)</p> <p>예를 들어, 4인치 나무인 경우</p> <p>r4 -&gt;</p> <ul> <li>p1 + r3</li> <li>p2 + r2</li> <li>p3 + r1</li> <li>p4</li> </ul> <p>중에서 가장 큰 값을 구하는 것이다.</p> <hr /> <p>11-14</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">math</span> <span class="c1"># 1
</span>

<span class="k">def</span> <span class="nf">cut_rod</span><span class="p">(</span><span class="n">length</span><span class="p">):</span> <span class="c1"># 4 
</span>    <span class="k">if</span> <span class="n">length</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="c1"># r_0
</span>        <span class="k">return</span> <span class="mi">0</span>
    
    <span class="n">max_revenue</span> <span class="o">=</span> <span class="o">-</span><span class="n">math</span><span class="p">.</span><span class="n">inf</span> <span class="c1"># -infinity
</span>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">length</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span> <span class="c1"># 9
</span>        <span class="n">revenue</span> <span class="o">=</span> <span class="n">_price</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">cut_rod</span><span class="p">(</span><span class="n">length</span><span class="o">-</span><span class="n">i</span><span class="p">)</span> 
        <span class="k">if</span> <span class="n">revenue</span> <span class="o">&gt;</span> <span class="n">max_revenue</span><span class="p">:</span>
            <span class="n">max_revenue</span> <span class="o">=</span> <span class="n">revenue</span> <span class="c1"># 가장 큰 값을 저장하는 logic
</span>            
    <span class="k">return</span> <span class="n">max_revenue</span>


<span class="n">_price</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">30</span><span class="p">]</span> <span class="c1"># 17
</span><span class="n">_length</span> <span class="o">=</span> <span class="mi">8</span>
<span class="k">print</span><span class="p">(</span><span class="n">cut_rod</span><span class="p">(</span><span class="n">_length</span><span class="p">))</span>

</code></pre></div></div> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>22
</code></pre></div></div> <hr /> <p>11-15</p> <p><strong>Why is CUT-ROD so inefficient?</strong> The problem is that CUT-ROD calls itself recursively over and over again with the same parameter values;</p> <ul> <li>it solves the same subproblems repeatedly. -&gt; 굉장히 비효율적인 계산이 된다.</li> </ul> <p><img src="https://user-images.githubusercontent.com/79521972/168517940-278d7008-2267-4aa8-afe2-4a4da2e58256.png" alt="image" /></p> <p>그렇기 때문에 이를 top-down 방식의 DP와 bottom-up 방식의 DP로 바꾸어보자.</p> <hr /> <p>11-16</p> <h2 id="top-down-with-memoization-1">top-down with memoization</h2> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">cut_rod_td</span><span class="p">(</span><span class="n">length</span><span class="p">):</span> <span class="c1"># 4
</span>    <span class="k">if</span> <span class="n">length</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">0</span>
    
    <span class="k">if</span> <span class="n">_memo</span><span class="p">[</span><span class="n">length</span><span class="p">]</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span> <span class="c1"># 8
</span>        <span class="n">max_revenue</span> <span class="o">=</span> <span class="o">-</span><span class="n">math</span><span class="p">.</span><span class="n">inf</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">length</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">revenue</span> <span class="o">=</span> <span class="n">_price</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">cut_rod_td</span><span class="p">(</span><span class="n">length</span><span class="o">-</span><span class="n">i</span><span class="p">)</span> <span class="c1"># 11
</span>            <span class="k">if</span> <span class="n">revenue</span> <span class="o">&gt;</span> <span class="n">max_revenue</span><span class="p">:</span>
                <span class="n">max_revenue</span> <span class="o">-</span> <span class="n">revenue</span>
        <span class="c1"># save r_i
</span>        <span class="n">_memo</span><span class="p">[</span><span class="n">length</span><span class="p">]</span> <span class="o">=</span> <span class="n">max_revenue</span>
        
    <span class="k">return</span> <span class="n">_memo</span><span class="p">[</span><span class="n">length</span><span class="p">]</span> <span class="c1"># 17
</span>

<span class="n">_price</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">30</span><span class="p">]</span> <span class="c1"># 20
</span><span class="n">_memo</span> <span class="o">=</span> <span class="p">[</span><span class="bp">None</span><span class="p">]</span> <span class="o">*</span> <span class="mi">11</span>
<span class="n">_length</span> <span class="o">=</span> <span class="mi">8</span>
<span class="k">print</span><span class="p">(</span><span class="n">cut_rod_td</span><span class="p">(</span><span class="n">_length</span><span class="p">))</span>
</code></pre></div></div> <hr /> <p>11-17</p> <h2 id="bottom-up-method">bottom-up method</h2> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">cut_rod_bu</span><span class="p">(</span><span class="n">length</span><span class="p">):</span><span class="c1"># 4 
</span>    
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">length</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">max_revenue</span> <span class="o">=</span> <span class="o">-</span><span class="n">math</span><span class="p">.</span><span class="n">inf</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">revenue</span> <span class="o">=</span> <span class="n">_price</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="n">_memo</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="n">j</span><span class="p">]</span> <span class="c1"># 9; memo를 활용함
</span>            <span class="k">if</span> <span class="n">max_revenue</span> <span class="o">&lt;</span> <span class="n">revenue</span><span class="p">:</span>
                <span class="n">max_revenue</span> <span class="o">=</span> <span class="n">revenue</span>
        <span class="c1"># save r_i
</span>        <span class="n">_memo</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">max_revenue</span> <span class="c1"># 13 
</span>        
    <span class="k">return</span> <span class="n">_memo</span><span class="p">[</span><span class="n">length</span><span class="p">]</span> <span class="c1"># _memo[-1]
</span>

<span class="n">_price</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">30</span><span class="p">]</span> <span class="c1"># 18
</span><span class="n">_memo</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">11</span>
<span class="n">_length</span> <span class="o">=</span> <span class="mi">8</span>
<span class="k">print</span><span class="p">(</span><span class="n">cut_rod_bu</span><span class="p">(</span><span class="n">_length</span><span class="p">))</span>
</code></pre></div></div> <p>i=1: p1</p> <p>i=2: p1+ r1</p> <p>​ p2+r0</p> <hr /> <p>11-18</p> <h2 id="153-elements-of-dynamic-programming">15.3 Elements of dynamic programming</h2> <ul> <li>We typically <strong>apply</strong> dynamic programming to <strong>optimization problems</strong> <ul> <li>n size 문제를 더 작은 size의 문제로 나눈다.</li> </ul> </li> </ul> <p><img src="https://user-images.githubusercontent.com/79521972/168519662-d5fd7824-3d7e-4639-8367-7948afbede0c.png" alt="image" /></p> <ul> <li>n인치 짜리 철봉이 주어졌을 때 가질 수 있는 최대 가격 -&gt; rn</li> <li>pi: i인치로 나누어서 팔았을 때의 가격</li> <li> <p>rn-i: (남은 부분)n-i인치에서 가질 수 있는 최대 가격(recursion)</p> </li> <li><strong>Two key ingredients</strong> that an optimization problem must have to apply dynamic programming:</li> </ul> <ol> <li><strong>Optimal substructure</strong> <ul> <li>divide-and-conquer에서와의 똑같은 특성</li> <li>An optimal solution contains optimal solutions to <strong>subproblems</strong></li> </ul> </li> <li><strong>Overlapping subproblems</strong> <ul> <li>divide-and-conquer와 구분을 짓는 차이점</li> <li>Finding the solution involves solving the same subproblem multiple times</li> <li>A divide-and-conquer approach always generating new subproblems</li> </ul> </li> </ol> <hr /> <p>11-19</p> <p>We typically apply dynamic programming to <strong>optimization problems</strong>. <mark>Such problems can have many possible solutions.</mark> Each solution has a value, and we wish to find a solution with the optimal (minumum or maximum) value. We call such a solution an optimal solution to the problem, as opposed to the <strong>optimal solution</strong>, since there may be several solutions that achieve <strong>the optimal value</strong>.</p> <ul> <li>optimal value로 부터 optimal solution을 만들어나간다.</li> </ul> <p>When developing a dynamic-programming algorithm, we flow a sequence of <strong>four steps</strong>:</p> <ol> <li>Characterize the structure of an optimal solution.</li> <li>Recursively define the value of an optimal solution.</li> <li>Compute the value of and optimal solution</li> <li>Construct an optimal solution from computed information.</li> </ol> <p>Steps 1-3 form the basis of a dynamic-programming solution to a problem. If we need only the value of an optimal solution, and not the solution itself, then we can omit step 4.</p> <hr /> <p>11-20</p> <h2 id="reconstructing-a-solution">Reconstructing a solution</h2> <p>11-17page를 수정한 코드</p> <p>Here is an <strong>extended version</strong> of BOTTOM-UP-CUT-ROD that computes, for each rod size j, not only the maximum revenue r<sub>j</sub>, but also s<sub>j</sub>, the optimal size of the first piece to cut off:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>			<span class="k">if</span> <span class="n">max_revenue</span> <span class="o">&lt;</span> <span class="n">revenue</span><span class="p">:</span> <span class="c1"># 10
</span>        		<span class="n">max_revenue</span> <span class="o">=</span> <span class="n">revenue</span>
            	<span class="n">_first</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">j</span> <span class="c1"># 앞에거(j)를 얼마만큼 잘라야지 revenue를 얻을 수 있는지를 저장
</span></code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">_memo</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">11</span> <span class="c1"># 20
</span><span class="n">_first</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">11</span>
<span class="n">_length</span> <span class="o">=</span> <span class="mi">8</span>
<span class="k">print</span><span class="p">(</span><span class="n">cut_rod_bu</span><span class="p">(</span><span class="n">_length</span><span class="p">))</span> <span class="c1"># 23
</span><span class="k">while</span> <span class="n">_length</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">_first</span><span class="p">[</span><span class="n">_length</span><span class="p">],</span> <span class="n">end</span><span class="o">=</span><span class="s">' '</span><span class="p">)</span>
    <span class="n">_length</span> <span class="o">-=</span> <span class="n">_first</span><span class="p">[</span><span class="n">_length</span><span class="p">]</span>
</code></pre></div></div> <ul> <li> <p>12, 21번 line이 새로 추가됨</p> </li> <li> <p>_first: 10인치 짜리 optimal value를 달성하기 위해서 앞에거(j)를 얼마만큼(몇 인치로) 잘라야지 revenue를 얻을 수 있는지에 대해 앞에 값을 기록하는 용도 (r4의 경우 p2니까 2를 기록)</p> </li> <li> <p>코드 돌려볼 것!!!!!!!!!</p> </li> </ul> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># length 8
22 
2 6 

#length 4
10
2 2 

#length 6
17
6 

#length 10
30
10 
</code></pre></div></div> <p>length 6은 6 혼자 파는 게 제일 비싸니까 legnth 8에서 6이 쓰였구나!</p> <hr /> <p>11-21</p> <p><img src="https://user-images.githubusercontent.com/79521972/168520429-c4b15bc3-4476-4503-b976-eccf6a971072.png" alt="image" /></p> <p><a href="https://www.acmicpc.net/problem/1932">https://www.acmicpc.net/problem/1932</a></p> <hr /> <p>11-22</p> <p><img src="https://user-images.githubusercontent.com/79521972/168520466-1525764a-6524-4ef3-ba3e-33aa3ee4af3b.png" alt="image" /></p> <p><img src="https://user-images.githubusercontent.com/79521972/168976111-49a8837a-9c3c-4740-8659-4b8d367e05e1.png" alt="image" /></p> <p>optimal structure</p> <p>maxV(0, 0)에서 얻을 수 있는 최대값</p> <p><img src="https://user-images.githubusercontent.com/79521972/172112001-304fa604-0393-4d37-846f-db8331e3986c.png" alt="image" /></p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">sys</span>

<span class="n">sys</span><span class="p">.</span><span class="n">stdin</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">'bj1932_in.txt'</span><span class="p">,</span> <span class="s">'r'</span><span class="p">)</span>

<span class="n">n</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">())</span>
<span class="n">triangle</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="n">triangle</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">input</span><span class="p">().</span><span class="n">split</span><span class="p">())))</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">j</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">triangle</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">+=</span> <span class="n">triangle</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">i</span> <span class="o">==</span> <span class="n">j</span><span class="p">:</span>
            <span class="n">triangle</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">+=</span> <span class="n">triangle</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">triangle</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">+=</span> <span class="nb">max</span><span class="p">(</span><span class="n">triangle</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">],</span> <span class="n">triangle</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">print</span><span class="p">(</span><span class="n">triangle</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">triangle</span><span class="p">[</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span>

</code></pre></div></div> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[[7], [3, 8], [8, 1, 0], [2, 7, 4, 4], [4, 5, 2, 6, 5]] # origina triangle
[[7], [10, 15], [8, 1, 0], [2, 7, 4, 4], [4, 5, 2, 6, 5]]
[[7], [10, 15], [18, 16, 15], [2, 7, 4, 4], [4, 5, 2, 6, 5]]
[[7], [10, 15], [18, 16, 15], [20, 25, 20, 19], [4, 5, 2, 6, 5]]
[[7], [10, 15], [18, 16, 15], [20, 25, 20, 19], [24, 30, 27, 26, 24]]
30
</code></pre></div></div> <p>j = 0인 경우는 삼각형의 한 줄에서 가장 왼쪽에 있는 값이기 때문에 바로 위의 줄의 j = 0 값과 더한 값으로 치환한다.</p> <p>j == i인 경우 즉, 삼각형의 한 줄에서 가장 오른쪽에 있는 값이기 때문에 바로 위의 줄의 j = i 값과 더한 값으로 치환한다.</p> <p>위 두 경우가 아니라면 왼쪽 branch와 오른쪽 branch가 겹치는 경우인데 이 때는 두 값에 max를 취해 주면 된다.</p> <hr /> <p>11-23</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">def</span> <span class="nf">max_path</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">):</span> <span class="c1"># 5
</span>    <span class="k">if</span> <span class="n">row</span> <span class="o">==</span> <span class="n">_size</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span> <span class="c1"># 제일 밑에 줄인 경우는 그냥 그 자리의 값이 결과값임
</span>        <span class="k">return</span> <span class="n">_triangle</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span>
    
    <span class="n">path_left</span> <span class="o">=</span> <span class="n">_triangle</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span> <span class="o">+</span> <span class="n">max_path</span><span class="p">(</span><span class="n">row</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">col</span><span class="p">)</span> <span class="c1"># 9
</span>    <span class="n">path_right</span> <span class="o">=</span> <span class="n">_triangle</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span> <span class="o">+</span> <span class="n">max_path</span><span class="p">(</span><span class="n">row</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">col</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">path_left</span><span class="p">,</span> <span class="n">path_right</span><span class="p">)</span>


<span class="n">_triangle</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1"># 15
</span><span class="n">_size</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">())</span>
<span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">_size</span><span class="p">):</span>
    <span class="n">_triangle</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">input</span><span class="p">().</span><span class="n">split</span><span class="p">())))</span> <span class="c1"># 18
</span>    
<span class="k">print</span><span class="p">(</span><span class="n">max_path</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

</code></pre></div></div> <p><img src="https://user-images.githubusercontent.com/79521972/168520638-9dc137d7-4607-4c73-b3ce-9abd6fe35493.png" alt="image" /></p> <ul> <li>한 줄 내려갈 때마다 중복 많아서 백준에 제출하면 시간초과 발생 <ul> <li>so, DP로 변경해야 함.</li> </ul> </li> <li>Top down의 경우 triangle과 크기가 완전히 똑같은 memo list 하나를 만들고 max_path 함수를 호출했을 때 memo에 저장되어 있는지를 확인 후 저장이 안되어 있다면 함수를 실행하도록 하고 저장이 되어 있다면 그냥 그 값을 리턴하도록 한다.</li> <li>Bottom up의 경우 loop를 사용하여 밑에서부터 위로 계산하면서 올라가면 된다.</li> </ul> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">sys</span>

<span class="n">sys</span><span class="p">.</span><span class="n">stdin</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">'bj1932_in.txt'</span><span class="p">,</span> <span class="s">'r'</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">max_path</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">row</span> <span class="o">==</span> <span class="n">_size</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">_triangle</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">_memo</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">path_left</span> <span class="o">=</span> <span class="n">_triangle</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span> <span class="o">+</span> <span class="n">max_path</span><span class="p">(</span><span class="n">row</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">col</span><span class="p">)</span>
        <span class="n">path_right</span> <span class="o">=</span> <span class="n">_triangle</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span> <span class="o">+</span> <span class="n">max_path</span><span class="p">(</span><span class="n">row</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">col</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>

        <span class="n">_memo</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">path_left</span><span class="p">,</span> <span class="n">path_right</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">_memo</span><span class="p">[</span><span class="n">row</span><span class="p">][</span><span class="n">col</span><span class="p">]</span>


<span class="n">_triangle</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">_memo</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">_size</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">())</span>
<span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">_size</span><span class="p">):</span>
    <span class="n">_triangle</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">input</span><span class="p">().</span><span class="n">split</span><span class="p">())))</span>

<span class="n">_memo</span> <span class="o">=</span> <span class="p">[[</span><span class="bp">None</span><span class="p">]</span><span class="o">*</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">_size</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>


<span class="k">print</span><span class="p">(</span><span class="n">max_path</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">_memo</span><span class="p">)</span>
</code></pre></div></div> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>30
[[30], [23, 21], [20, 13, 10], [7, 12, 10, 10], [None, None, None, None, None]]
</code></pre></div></div> <hr /> <p>11-24</p> <h2 id="0-1-knapsack-problem">0-1 Knapsack problem</h2> <p>The <strong>0-1 knapsack problem</strong> is the following. A thief robbing a store finds n items. The <em>i</em>-th item is worth v<sub>i</sub> dollars and weighs w<sub>i</sub> pounds, where v<sub>i</sub> and w<sub>i</sub> are integers. The thief wants to take as valuable a load as possible, but he can carry at most W pounds in his knapsack, for some integer W. Which items should he take?</p> <p><img src="https://user-images.githubusercontent.com/79521972/168520845-99c2122c-af74-467f-8aee-f6524079ac88.png" alt="image" /></p> <ul> <li>objective function: 무언가를 최대화(maximize) 해야하는 함수</li> <li>constraint: 최대화 할 때의 조건 <ul> <li>물건을 담으면 1 / 안 담으면 0</li> </ul> </li> </ul> <hr /> <p>11-25</p> <p><img src="https://user-images.githubusercontent.com/79521972/168520896-ba378f1f-0178-438b-8e5d-1aa97f5e4d9c.png" alt="image" /></p> <hr /> <p>11-26</p> <p><img src="https://user-images.githubusercontent.com/79521972/168520917-cfa3fa1d-b85d-47b7-b79f-83bbc32da83a.png" alt="image" /></p> <p><a href="https://www.acmicpc.net/problem/12865">https://www.acmicpc.net/problem/12865</a></p> <hr /> <p>11-27</p> <p><img src="https://user-images.githubusercontent.com/79521972/168521024-e60e76d4-63a6-4a73-a16d-b8e67444b91a.png" alt="image" /></p> <ul> <li>maxV(7,0) - 여유공간 7, 고려하는 물건 0 번째 = V0 + maxV(1, 1)</li> <li>max(7,1)</li> <li>위 둘 중에 max가 정답</li> </ul> <hr /> <p>11-28</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">knapsack</span><span class="p">(</span><span class="n">capacity</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span> <span class="c1"># 5
</span>    <span class="c1"># capacity: current capacity of the knapsack, [0.._capacity]
</span>    <span class="c1"># item: index of the item to be considered, [0..number-1]
</span>    <span class="c1"># _number: number of items -&gt; W
</span>    <span class="c1"># _capacity: capacity of the knapsack -&gt; W
</span>    <span class="c1"># _weight: weight list of the items -&gt; Wi
</span>    <span class="c1"># _value: value list of the items -&gt; Vi
</span>    
    <span class="k">if</span> <span class="n">capacity</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">item</span> <span class="o">&gt;=</span> <span class="n">_number</span><span class="p">:</span> <span class="c1"># 13
</span>        <span class="k">return</span> <span class="mi">0</span>
    
    <span class="k">if</span> <span class="n">_weight</span><span class="p">[</span><span class="n">item</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">capacity</span><span class="p">:</span> <span class="c1"># 16
</span>        <span class="k">return</span> <span class="n">knapsack</span><span class="p">(</span><span class="n">capacity</span><span class="p">,</span> <span class="n">item</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    
    <span class="n">with_the_item</span> <span class="o">=</span> <span class="n">_value</span><span class="p">[</span><span class="n">item</span><span class="p">]</span> <span class="o">+</span> <span class="n">knapsack</span><span class="p">(</span><span class="n">capacity</span> <span class="o">-</span> <span class="n">_weight</span><span class="p">[</span><span class="n">item</span><span class="p">],</span> <span class="n">item</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># 19
</span>    <span class="n">without_the_item</span> <span class="o">=</span> <span class="n">knapsack</span><span class="p">(</span><span class="n">capacity</span><span class="p">,</span> <span class="n">item</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">with_the_item</span><span class="p">,</span> <span class="n">without_the_item</span><span class="p">)</span>
</code></pre></div></div> <ul> <li>knapsack(-capacity, 0)</li> <li><img src="https://user-images.githubusercontent.com/79521972/169052588-9662382e-3fa3-435f-8aee-1af68fc02c58.png" alt="image" /></li> </ul> <p><img src="https://user-images.githubusercontent.com/79521972/168521280-1c569835-402d-4e3b-a4ff-7111ba655705.png" alt="image" /></p> <ul> <li>Top down으로 바꾼다. -&gt; memo를 딕셔너리로 만들어서 한 노드(튜플)을 key로 해서 값을 계속 저장해서 재귀 호출을 하는데 memo안에 존재하는 지를 먼저 파악해서 그걸 토대로 다음 행동을 결정하면서 진행한다. <ul> <li>저장해야 하는 key 수가 그렇게 많지 않음</li> </ul> </li> <li>bottom up으로 하면 어디서 부터 올라가야 될 지를 알 수가 없기 때문에 이차원 리스트의 사이즈가 WxN 만큼으로 다 채워져야 하기 때문에 불필요한 계산을 많이하여 실행 속도가 굉장히 오래 걸린다.</li> </ul> <p><img src="https://user-images.githubusercontent.com/79521972/172128274-35d340e4-d961-4d67-900f-e3b2cf93422f.png" alt="image" /></p> <p>따라서 왼쪽으로 가서 물건을 집어 넣으면 capcity에서 물건의 weight 만큼 뺀 후 다음 아이템에 대해 knapsack 함수를 재귀 호출을 진행한다.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">sys</span>


<span class="k">def</span> <span class="nf">knapsack</span><span class="p">(</span><span class="n">capacity</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>  <span class="c1"># 5
</span>    <span class="c1"># capacity: current capacity of the knapsack, [0.._capacity]
</span>    <span class="c1"># item: index of the item to be considered, [0..number-1]
</span>    <span class="c1"># _number: number of items -&gt; N
</span>    <span class="c1"># _capacity: capacity of the knapsack -&gt; W
</span>    <span class="c1"># _weight: weight list of the items -&gt; wi
</span>    <span class="c1"># _value: value list of the items -&gt; vi
</span>
    <span class="k">if</span> <span class="n">capacity</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">item</span> <span class="o">&gt;=</span> <span class="n">_number</span><span class="p">:</span>  <span class="c1"># 13
</span>        <span class="k">return</span> <span class="mi">0</span>

    <span class="k">if</span> <span class="n">_memo</span><span class="p">.</span><span class="n">get</span><span class="p">((</span><span class="n">capacity</span><span class="p">,</span> <span class="n">item</span><span class="p">),</span> <span class="bp">None</span><span class="p">)</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">_weight</span><span class="p">[</span><span class="n">item</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">capacity</span><span class="p">:</span>  <span class="c1"># 16 ; 넣고 싶어도 못넣는 경우
</span>            <span class="k">return</span> <span class="n">knapsack</span><span class="p">(</span><span class="n">capacity</span><span class="p">,</span> <span class="n">item</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="c1"># 만약 현재 item이 용량을 넘어서면 다음 item 보기
</span>
        <span class="n">with_the_item</span> <span class="o">=</span> <span class="n">_value</span><span class="p">[</span><span class="n">item</span><span class="p">]</span> <span class="o">+</span> <span class="n">knapsack</span><span class="p">(</span><span class="n">capacity</span> <span class="o">-</span> <span class="n">_weight</span><span class="p">[</span><span class="n">item</span><span class="p">],</span> <span class="n">item</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># 19
</span>        <span class="n">without_the_item</span> <span class="o">=</span> <span class="n">knapsack</span><span class="p">(</span><span class="n">capacity</span><span class="p">,</span> <span class="n">item</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">_memo</span><span class="p">[(</span><span class="n">capacity</span><span class="p">,</span> <span class="n">item</span><span class="p">)]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">with_the_item</span><span class="p">,</span> <span class="n">without_the_item</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">_memo</span><span class="p">[(</span><span class="n">capacity</span><span class="p">,</span> <span class="n">item</span><span class="p">)]</span>


<span class="n">sys</span><span class="p">.</span><span class="n">stdin</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">'bj12865_in.txt'</span><span class="p">)</span>
<span class="nb">input</span> <span class="o">=</span> <span class="n">sys</span><span class="p">.</span><span class="n">stdin</span><span class="p">.</span><span class="n">readline</span>

<span class="n">_number</span><span class="p">,</span> <span class="n">_capacity</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">input</span><span class="p">().</span><span class="n">split</span><span class="p">())</span> <span class="c1"># n: 갯수, k: 버틸 수 있는 무게
</span>
<span class="n">_memo</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">_weight</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">_value</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">_number</span><span class="p">):</span>
    <span class="n">w</span><span class="p">,</span> <span class="n">v</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">input</span><span class="p">().</span><span class="n">split</span><span class="p">())</span>
    <span class="n">_weight</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
    <span class="n">_value</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">knapsack</span><span class="p">(</span><span class="n">_capacity</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">_memo</span><span class="p">)</span>

</code></pre></div></div> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>14
{(3, 2): 6, (7, 3): 12, (7, 2): 12, (7, 1): 14, (7, 0): 14}
</code></pre></div></div> </section> <footer class="page__meta"> <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2022-05-16T00:00:00+09:00">May 16, 2022</time></p> </footer> <nav class="pagination"> <a href="/System-Programming-9-3%EC%9E%A5.-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EB%B6%80%ED%8C%85/" class="pagination--pager" title="[System Programming] 9-3장. 시스템 부팅 ">Previous</a> <a href="/Computer-Architecture-Cache-Design/" class="pagination--pager" title="[Computer Architecture] Cache Design ">Next</a> </nav> </div> </article> </div> </section> <footer> <p> <a href="https://github.com/github_username" title="Github"> <svg><use xlink:href="#icon-github"></use></svg> </a> <a href="https://www.facebook.com/facebook_username" title="Facebook"> <svg><use xlink:href="#icon-facebook"></use></svg> </a> <a href="https://twitter.com/twitter_username" title="Twitter"> <svg><use xlink:href="#icon-twitter"></use></svg> </a> <a href="https://medium.com/@medium_username" title="Medium"> <svg><use xlink:href="#icon-medium"></use></svg> </a> <a href="https://www.instagram.com/instagram_username" title="Instagram"> <svg><use xlink:href="#icon-instagram"></use></svg> </a> <a href="https://www.linkedin.com/in/linkedin_username" title="LinkedIn"> <svg><use xlink:href="#icon-linkedin"></use></svg> </a> </p> <ul> <li> <a href="http://localhost:4000/">Home</a> </li> <li> <a href="http://localhost:4000/about">About</a> </li> <li> <a href="http://localhost:4000/contact">Contact</a> </li> <li> <a href="http://localhost:4000/feed.xml">Feed</a> </li> </ul> <p> <span>Jekflix</span> was made with <svg class="love"><use xlink:href="#icon-heart"></use></svg> by <a href="https://rossener.com" target="_blank" class="creator">Thiago Rossener</a> </p> </footer> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "Organization", "name": "Jekflix", "description": "Jekflix is a template for Jekyll inspired by Netflix and made by Thiago Rossener.", "url": "http://localhost:4000/", "logo": { "@type": "ImageObject", "url": "http://localhost:4000/assets/img/icons/mediumtile.png", "width": "600", "height": "315" }, "sameAs": [ "https://github.com/github_username","https://www.facebook.com/facebook_username","https://twitter.com/twitter_username","https://medium.com/@medium_username","https://www.instagram.com/instagram_username","https://www.linkedin.com/in/linkedin_username" ] } </script> <!-- Include the script that allows Netlify CMS login --> <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script> <!-- Include the website scripts --> <script src="/assets/js/scripts.min.js"></script> <!-- Include Google Analytics script --> <!-- Global site tag (gtag.js) - Google Analytics --> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-XXXXXXXX-X"></script> <script> var host = window.location.hostname; if (host != 'localhost') { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-XXXXXXXX-X'); } </script> <!-- Include extra scripts --> </body> </html>
